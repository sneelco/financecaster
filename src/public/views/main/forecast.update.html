        <div class="modal-body" id="modal-body">
          <uib-tabset active="active">
            <uib-tab index="0" heading="Update Balance">

                <form name="addAccount">
                    <div class="form-group has-feedback" ng-class="{'has-success': addAccount.balance.$valid, 'has-error': addAccount.balance.$invalid && addAccount.balance.$dirty}">
                      <label for="balance">Balance</label>
                      <input type="number" class="form-control" id="balance" name="balance" placeholder="Balance" currency ng-model="account.balance" step="0.01" required>
                      <h5 ng-show="addAccount.balance.$dirty && addAccount.balance.$valid && addAccount.balance_date.$pristine">
                        Would you like to update the balance date to today? <button class="btn btn-sm btn-primary" ng-click="update_date(addAccount.balance_date)">Update</button>
                      </h5>
                      <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="addAccount.balance.$valid"></span>
                      <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="addAccount.balance.$invalid && addAccount.balance.$dirty"></span>
                      <span id="helpBlock2" class="help-block" ng-show="addAccount.balance.$invalid && addAccount.balance.$dirty">Balance should be a dollar amount either positive or negative</span>
                    </div>
                    <div class="form-group has-feedback" ng-class="{'has-success': record.start.$valid, 'has-error': record.start.$invalid && record.amount.$dirty}">
                      <label for="start">Balance Date</label>
                      <p class="input-group">

                        <input type="text" class="form-control" uib-datepicker-popup name="balance_date" ng-model="account.balance_date" is-open="popup.opened" ng-required="true" close-text="Close" />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="popup.opened = true"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                      <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="record.start.$valid"></span>
                      <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="record.start.$invalid && record.start.$dirty"></span>
                      <span id="helpBlock2" class="help-block" ng-show="record.start.$invalid && record.start.$dirty">Amount should be a dollar amount either positive or negative</span>
                    </div>
                    <div class="form-group has-feedback" ng-class="{'has-success': addAccount.limit.$valid && account.limit, 'has-error': addAccount.limit.$invalid && addAccount.limit.$dirty}">
                      <label for="limit">Limit</label>
                      <input type="number" class="form-control" id="limit" name="limit" placeholder="Limit" currency ng-model="account.limit" step="0.01">
                      <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="addAccount.limit.$valid && account.limit"></span>
                      <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="addAccount.limit.$invalid && addAccount.limit.$dirty"></span>
                      <span id="helpBlock2" class="help-block" ng-show="addAccount.limit.$invalid && addAccount.limit.$dirty">Limit should be a dollar amount either positive or negative</span>
                    </div>
                    <div class="form-group has-feedback" ng-class="{'has-success': addAccount.forecast.$valid, 'has-error': addAccount.forecast.$invalid && addAccount.forecast.$dirty}">
                      <label for="forecast">Forecast</label>
                      <input type="number" class="form-control" id="forecast" name="forecast" placeholder="Forecast" ng-model="account.forecast" step="1" min="1" max="1825" unsignedint required>
                      <span class="glyphicon glyphicon-ok form-control-feedback"  ng-show="addAccount.forecast.$valid"></span>
                      <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="addAccount.forecast.$invalid && addAccount.forecast.$dirty"></span>
                      <span id="helpBlock2" class="help-block" ng-show="addAccount.forecast.$invalid && addAccount.forecast.$dirty">Forecast should be a number from 1 to 1825</span>
                    </div>

                    <button class="btn btn-primary pull-right" ng-disabled="addAccount.$invalid" ng-click="updateAccount(addAccount)"><i class="icon-save-floppy"></i> Save</button>
                    <button class="btn btn-warning pull-left" ng-click="cancel()"> Cancel</button>
                    <div style="font-size: 1.5em; height: 2em;">&nbsp;</div>
                </form>

            </uib-tab>
            <uib-tab heading="Add Transaction">

                <form name="record">
                  <div class="form-group has-feedback" ng-class="{'has-success': record.name.$valid, 'has-error': record.name.$invalid && record.name.$dirty}">
                    <label for="name">Account</label>
                    <select class="form-control" name="accountId" id="accountId" ng-model="transaction.accountId" required ng-options="account.id as account.name for account in accounts"></select>
                    <span class="glyphicon glyphicon-ok form-control-feedback"  ng-show="record.name.$valid"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="record.name.$invalid && record.name.$dirty"></span>
                    <span id="helpBlock2" class="help-block" ng-show="record.name.$invalid && record.name.$dirty">Account name must be unique across all your transactions</span>
                  </div>
                  <div class="form-group has-feedback" ng-class="{'has-success': record.name.$valid, 'has-error': record.name.$invalid && record.name.$dirty}">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" name="name" id="name" placeholder="Transaction Name" ng-model="transaction.name" required>
                    <span class="glyphicon glyphicon-ok form-control-feedback"  ng-show="record.name.$valid"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="record.name.$invalid && record.name.$dirty"></span>
                    <span id="helpBlock2" class="help-block" ng-show="record.name.$invalid && record.name.$dirty">Account name must be unique across all your transactions</span>
                  </div>
                  <div class="form-group has-feedback" ng-class="{'has-success': record.amount.$valid, 'has-error': record.amount.$invalid && record.amount.$dirty}">
                    <label for="amount">Amount</label>
                    <input type="number" class="form-control" id="amount" name="amount" placeholder="Amount" currency ng-model="transaction.amount" step="0.01" required>
                    <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="record.amount.$valid"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="record.amount.$invalid && record.amount.$dirty"></span>
                    <span id="helpBlock2" class="help-block" ng-show="record.amount.$invalid && record.amount.$dirty">Amount should be a dollar amount either positive or negative</span>
                  </div>
                  <div class="form-group has-feedback" ng-class="{'has-success': record.start.$valid, 'has-error': record.start.$invalid && record.start.$dirty}">
                    <label for="start"><span ng-show="!transaction.one_time">Start</span> Date</label>
                    <p class="input-group">

                      <input type="text" class="form-control" name="start" uib-datepicker-popup ng-model="transaction.start" is-open="popup.opened" ng-required="true" close-text="Close" placeholder="Date" required />
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="popup.opened = true"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </p>
                    <span id="helpBlock2" class="help-block" ng-show="record.start.$invalid && record.start.$dirty">Date must be specified</span>
                  </div>
                  <div class="form-group has-feedback" ng-class="{'has-success': record.start.$valid, 'has-error': record.start.$invalid && record.amount.$dirty}">
                    <label for="start"><input type="checkbox" name="one_time" ng-model="transaction.one_time"> One Time</label>
                    <span id="helpBlock2" class="help-block" ng-show="record.start.$invalid && record.one_time.$dirty"></span>
                  </div>
                  <div class="well" ng-hide="transaction.one_time">
                    <div class="row">
                      <div class="col-xs-6">
                        <div class="form-group" ng-class="{'has-success': record.every_num.$valid, 'has-error': record.every_num.$invalid}">
                          <label for="every_num">Every</label>
                          <input type="number" class="form-control" id="every_num" name="every_num" placeholder="Every"  min=0 step=1 unsignedint ng-model="transaction.every_num" required-if="!transaction.one_time">
                        </div>
                      </div>
                      <div class="col-xs-6">
                        <div class="form-group" ng-class="{'has-success': record.every_type.$valid, 'has-error': record.every_type.$invalid}" >
                          <label for="every_type">&nbsp;</label>
                          <select  class="form-control" id="every_type" name="every_type" ng-model="transaction.every_type" required-if="!transaction.one_time">
                            <option value="day">Day[s]</option>
                            <option value="week">Week[s]</option>
                            <option value="month">Month[s]</option>
                            <option value="year">Year[s]</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="form-group has-feedback has-error" ng-show="record.every_num.$invalid || record.every_type.$invalid">
                      <span id="helpBlock2" class="help-block" >Recurrence must be defined above</span>
                    </div>
                    <div class="form-group">
                      <label for="num_transactions">Number of Transactions</label>
                      <input type="number" class="form-control" id="num_transactions" name="num_transactions" placeholder="Number of Transactions" min=1 step=1 unsignedint ng-model="transaction.num_transactions">
                    </div>
                  </div>

                    <button class="btn btn-primary pull-right" ng-disabled="addAccount.$invalid" ng-click="addTransaction(record)"><i class="icon-save-floppy"></i> Save</button>
                    <button class="btn btn-warning pull-left" ng-click="cancel()"> Cancel</button>
                    <div style="font-size: 1.5em; height: 2em;">&nbsp;</div>
                </form>

            </uib-tab>
          </uib-tabset>
        </div>
